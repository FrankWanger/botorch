<!DOCTYPE html><html lang=""><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>BoTorch · Bayesian Optimization in PyTorch</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Bayesian Optimization in PyTorch"/><meta property="og:title" content="BoTorch · Bayesian Optimization in PyTorch"/><meta property="og:type" content="website"/><meta property="og:url" content="https://botorch.org/v/0.9.1/"/><meta property="og:description" content="Bayesian Optimization in PyTorch"/><meta property="og:image" content="https://botorch.org/v/0.9.1/img/botorch.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://botorch.org/v/0.9.1/img/botorch.png"/><link rel="shortcut icon" href="/v/0.9.1/img/botorch.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CXN3PGE3CC"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'G-CXN3PGE3CC');
            </script><link rel="stylesheet" href="/v/0.9.1/css/code_block_buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/v/0.9.1/js/code_block_buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/v/0.9.1/js/mathjax.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/v/0.9.1/js/scrollSpy.js"></script><link rel="stylesheet" href="/v/0.9.1/css/main.css"/><script src="/v/0.9.1/js/codetabs.js"></script></head><body><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/v/0.9.1/"><img class="logo" src="/v/0.9.1/img/botorch_logo_lockup_white.png" alt="BoTorch"/><h2 class="headerTitleWithLogo">BoTorch</h2></a><a href="/v/0.9.1/versions"><h3>0.9.1</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/v/0.9.1/docs/introduction" target="_self">Docs</a></li><li class=""><a href="/v/0.9.1/tutorials/" target="_self">Tutorials</a></li><li class=""><a href="/v/0.9.1/api/" target="_self">API Reference</a></li><li class=""><a href="/v/0.9.1/docs/papers" target="_self">Papers</a></li><li class=""><a href="https://github.com/pytorch/botorch" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span></span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Tutorials</h3><ul class=""><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/">Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Using BoTorch with Ax</h3><ul class=""><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/custom_botorch_model_in_ax">Using a custom BoTorch model</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/custom_acquisition">Writing a custom acquisition function</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Full Optimization Loops</h3><ul class=""><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/closed_loop_botorch_only">q-Noisy Constrained EI</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/preference_bo">Bayesian optimization with pairwise comparison data</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/bope">Bayesian optimization with preference exploration (BOPE)</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/turbo_1">Trust Region Bayesian Optimization (TuRBO)</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/baxus">Bayesian optimization with adaptively expanding subspaces (BAxUS)</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/v/0.9.1/tutorials/scalable_constrained_bo">Scalable Constrained Bayesian Optimization (SCBO)</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/saasbo">High-dimensional Bayesian optimization with SAASBO</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/Multi_objective_multi_fidelity_BO">Multi-Objective-Multi-Fidelity optimization with MOMF</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/bo_with_warped_gp">Bayesian optimization with input warping</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/thompson_sampling">Bayesian optimization with large-scale Thompson sampling</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Multi-Objective Bayesian Optimization</h3><ul class=""><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/multi_objective_bo">Multi-objective optimization with qEHVI, qNEHVI, and qNParEGO</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/constrained_multi_objective_bo">Constrained multi-objective optimization with qNEHVI and qParEGO</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/robust_multi_objective_bo">Robust multi-objective Bayesian optimization under input noise</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Bite-Sized Tutorials</h3><ul class=""><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/fit_model_with_torch_optimizer">Fitting a model using torch.optim</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/compare_mc_analytic_acquisition">Comparing analytic and MC Expected Improvement</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/optimize_with_cmaes">Acquisition function optimization with CMA-ES</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/optimize_stochastic">Acquisition function optimization with torch.optim</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/batch_mode_cross_validation">Using batch evaluation for fast cross-validation</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/one_shot_kg">The one-shot Knowledge Gradient acquisition function</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/max_value_entropy">The max-value entropy search acquisition function</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/GIBBON_for_efficient_batch_entropy_search">The GIBBON acquisition function for efficient batch entropy search</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/risk_averse_bo_with_environmental_variables">Risk averse Bayesian optimization with environmental variables</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/risk_averse_bo_with_input_perturbations">Risk averse Bayesian optimization with input perturbations</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/constraint_active_search">Constraint Active Search for Multiobjective Experimental Design</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/information_theoretic_acquisition_functions">Information-theoretic acquisition functions</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Advanced Usage</h3><ul class=""><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/meta_learning_with_rgpe">Meta-learning with RGPE</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/vae_mnist">High-dimensional optimization with VAEs</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/multi_fidelity_bo">Multi-fidelity Bayesian optimization using KG</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/discrete_multi_fidelity_bo">Multi-fidelity Bayesian optimization with discrete fidelities using KG</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/composite_bo_with_hogp">Composite Bayesian optimization with the High Order Gaussian Process</a></li><li class="navListItem"><a class="navItem" href="/v/0.9.1/tutorials/composite_mtbo">Composite Bayesian Optimization with Multi-Task Gaussian Processes</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="tutorialBody">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<div class="notebook">
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Scalable-Constrained-Bayesian-Optimization-(SCBO)">Scalable Constrained Bayesian Optimization (SCBO)<a class="anchor-link" href="#Scalable-Constrained-Bayesian-Optimization-(SCBO)">¶</a></h1><p>In this tutorial, we show how to implement Scalable Constrained Bayesian Optimization (SCBO) [1] in a closed loop in BoTorch.</p>
<p>We optimize the 20𝐷 Ackley function on the domain $[−5,10]^{20}$. This implementation uses two simple constraint functions $c1$ and $c2$. Our goal is to find values $x$ which maximizes $Ackley(x)$ subject to the constraints $c1(x) \leq 0$ and $c2(x) \leq 0$.</p>
<p>[1]: David Eriksson and Matthias Poloczek. Scalable constrained Bayesian optimization. In International Conference on Artificial Intelligence and Statistics, pages 730–738. PMLR, 2021.
(<a href="https://doi.org/10.48550/arxiv.2002.08526">https://doi.org/10.48550/arxiv.2002.08526</a>)</p>
<p>Since SCBO is essentially a constrained version of Trust Region Bayesian Optimization (TuRBO), this tutorial shares much of the same code as the TuRBO Tutorial (<a href="https://botorch.org/tutorials/turbo_1">https://botorch.org/tutorials/turbo_1</a>) with small modifications made to implement SCBO.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>

<span class="kn">import</span> <span class="nn">gpytorch</span>
<span class="kn">import</span> <span class="nn">torch</span>
<span class="kn">from</span> <span class="nn">gpytorch.constraints</span> <span class="kn">import</span> <span class="n">Interval</span>
<span class="kn">from</span> <span class="nn">gpytorch.kernels</span> <span class="kn">import</span> <span class="n">MaternKernel</span><span class="p">,</span> <span class="n">ScaleKernel</span>
<span class="kn">from</span> <span class="nn">gpytorch.likelihoods</span> <span class="kn">import</span> <span class="n">GaussianLikelihood</span>
<span class="kn">from</span> <span class="nn">gpytorch.mlls</span> <span class="kn">import</span> <span class="n">ExactMarginalLogLikelihood</span>
<span class="kn">from</span> <span class="nn">torch</span> <span class="kn">import</span> <span class="n">Tensor</span>
<span class="kn">from</span> <span class="nn">torch.quasirandom</span> <span class="kn">import</span> <span class="n">SobolEngine</span>

<span class="kn">from</span> <span class="nn">botorch.fit</span> <span class="kn">import</span> <span class="n">fit_gpytorch_mll</span>
<span class="c1"># Constrained Max Posterior Sampling s a new sampling class, similar to MaxPosteriorSampling,</span>
<span class="c1"># which implements the constrained version of Thompson Sampling described in [1].</span>
<span class="kn">from</span> <span class="nn">botorch.generation.sampling</span> <span class="kn">import</span> <span class="n">ConstrainedMaxPosteriorSampling</span>
<span class="kn">from</span> <span class="nn">botorch.models</span> <span class="kn">import</span> <span class="n">SingleTaskGP</span>
<span class="kn">from</span> <span class="nn">botorch.models.model_list_gp_regression</span> <span class="kn">import</span> <span class="n">ModelListGP</span>
<span class="kn">from</span> <span class="nn">botorch.test_functions</span> <span class="kn">import</span> <span class="n">Ackley</span>
<span class="kn">from</span> <span class="nn">botorch.utils.transforms</span> <span class="kn">import</span> <span class="n">unnormalize</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"ignore"</span><span class="p">)</span>

<span class="n">device</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">device</span><span class="p">(</span><span class="s2">"cuda"</span> <span class="k">if</span> <span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">is_available</span><span class="p">()</span> <span class="k">else</span> <span class="s2">"cpu"</span><span class="p">)</span>
<span class="n">dtype</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">double</span>

<span class="n">SMOKE_TEST</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"SMOKE_TEST"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Demonstration-with-20-dimensional-Ackley-function-and-Two-Simple-Constraint-Functions">Demonstration with 20-dimensional Ackley function and Two Simple Constraint Functions<a class="anchor-link" href="#Demonstration-with-20-dimensional-Ackley-function-and-Two-Simple-Constraint-Functions">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Here we define the example 20D Ackley function</span>
<span class="n">fun</span> <span class="o">=</span> <span class="n">Ackley</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">negate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">device</span><span class="p">)</span>
<span class="n">fun</span><span class="o">.</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">fill_</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
<span class="n">fun</span><span class="o">.</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">fill_</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">dim</span> <span class="o">=</span> <span class="n">fun</span><span class="o">.</span><span class="n">dim</span>
<span class="n">lb</span><span class="p">,</span> <span class="n">ub</span> <span class="o">=</span> <span class="n">fun</span><span class="o">.</span><span class="n">bounds</span>

<span class="n">batch_size</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">n_init</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">dim</span>
<span class="n">max_cholesky_size</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s2">"inf"</span><span class="p">)</span>  <span class="c1"># Always use Cholesky</span>

<span class="c1"># When evaluating the function, we must first unnormalize the inputs since</span>
<span class="c1"># we will use normalized inputs x in the main optimizaiton loop</span>
<span class="k">def</span> <span class="nf">eval_objective</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""This is a helper function we use to unnormalize and evalaute a point"""</span>
    <span class="k">return</span> <span class="n">fun</span><span class="p">(</span><span class="n">unnormalize</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">fun</span><span class="o">.</span><span class="n">bounds</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Defining-two-simple-constraint-functions">Defining two simple constraint functions<a class="anchor-link" href="#Defining-two-simple-constraint-functions">¶</a></h3><h4 id="We'll-use-two-constraints-functions:-c1-and-c2">We'll use two constraints functions: c1 and c2<a class="anchor-link" href="#We'll-use-two-constraints-functions:-c1-and-c2">¶</a></h4><p>We want to find solutions which maximize the above Ackley objective subject to the constraint that
c1(x) &lt;= 0 and c2(x) &lt;= 0
Note that SCBO expects all constraints to be of the for c(x) &lt;= 0, so any other desired constraints must be modified to fit this form.</p>
<p>Note also that while the below constraints are very simple functions, the point of this tutorial is to show how to use SCBO, and this same implementation could be applied in the same way if c1, c2 were actually complex black-box functions.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">c1</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>  <span class="c1"># Equivalent to enforcing that x[0] &gt;= 0</span>
    <span class="k">return</span> <span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">c2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>  <span class="c1"># Equivalent to enforcing that x[1] &gt;= 0</span>
    <span class="k">return</span> <span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>


<span class="c1"># We assume c1, c2 have same bounds as the Ackley function above</span>
<span class="k">def</span> <span class="nf">eval_c1</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""This is a helper function we use to unnormalize and evalaute a point"""</span>
    <span class="k">return</span> <span class="n">c1</span><span class="p">(</span><span class="n">unnormalize</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">fun</span><span class="o">.</span><span class="n">bounds</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">eval_c2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""This is a helper function we use to unnormalize and evalaute a point"""</span>
    <span class="k">return</span> <span class="n">c2</span><span class="p">(</span><span class="n">unnormalize</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">fun</span><span class="o">.</span><span class="n">bounds</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Define-TuRBO-Class">Define TuRBO Class<a class="anchor-link" href="#Define-TuRBO-Class">¶</a></h2><p>Just as in the TuRBO Tutorial (<a href="https://botorch.org/tutorials/turbo_1">https://botorch.org/tutorials/turbo_1</a>), we'll define a class to hold the turst region state and a method update_state() to update the side length of the trust region hyper-cube during optimization. We'll update the side length according to the number of sequential successes or failures as discussed in the original TuRBO paper.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ScboState</span><span class="p">:</span>
    <span class="n">dim</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">length</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.8</span>
    <span class="n">length_min</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="o">**</span><span class="mi">7</span>
    <span class="n">length_max</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.6</span>
    <span class="n">failure_counter</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">failure_tolerance</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s2">"nan"</span><span class="p">)</span>  <span class="c1"># Note: Post-initialized</span>
    <span class="n">success_counter</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">success_tolerance</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># Note: The original paper uses 3</span>
    <span class="n">best_value</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="o">-</span><span class="nb">float</span><span class="p">(</span><span class="s2">"inf"</span><span class="p">)</span>
    <span class="n">best_constraint_values</span><span class="p">:</span> <span class="n">Tensor</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">2</span><span class="p">,)</span> <span class="o">*</span> <span class="n">torch</span><span class="o">.</span><span class="n">inf</span>
    <span class="n">restart_triggered</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">failure_tolerance</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span>
            <span class="nb">max</span><span class="p">([</span><span class="mf">4.0</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">])</span>
        <span class="p">)</span>


<span class="k">def</span> <span class="nf">update_tr_length</span><span class="p">(</span><span class="n">state</span><span class="p">):</span>
    <span class="c1"># Update the length of the trust region according to</span>
    <span class="c1"># success and failure counters</span>
    <span class="c1"># (Just as in original TuRBO paper)</span>
    <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">success_counter</span> <span class="o">==</span> <span class="n">state</span><span class="o">.</span><span class="n">success_tolerance</span><span class="p">:</span>  <span class="c1"># Expand trust region</span>
        <span class="n">state</span><span class="o">.</span><span class="n">length</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mf">2.0</span> <span class="o">*</span> <span class="n">state</span><span class="o">.</span><span class="n">length</span><span class="p">,</span> <span class="n">state</span><span class="o">.</span><span class="n">length_max</span><span class="p">)</span>
        <span class="n">state</span><span class="o">.</span><span class="n">success_counter</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">elif</span> <span class="n">state</span><span class="o">.</span><span class="n">failure_counter</span> <span class="o">==</span> <span class="n">state</span><span class="o">.</span><span class="n">failure_tolerance</span><span class="p">:</span>  <span class="c1"># Shrink trust region</span>
        <span class="n">state</span><span class="o">.</span><span class="n">length</span> <span class="o">/=</span> <span class="mf">2.0</span>
        <span class="n">state</span><span class="o">.</span><span class="n">failure_counter</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">length</span> <span class="o">&lt;</span> <span class="n">state</span><span class="o">.</span><span class="n">length_min</span><span class="p">:</span>  <span class="c1"># Restart when trust region becomes too small</span>
        <span class="n">state</span><span class="o">.</span><span class="n">restart_triggered</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="n">state</span>


<span class="k">def</span> <span class="nf">update_state</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">Y_next</span><span class="p">,</span> <span class="n">C_next</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Method used to update the TuRBO state after each step of optimization.</span>

<span class="sd">    Success and failure counters are updated according to the objective values </span>
<span class="sd">    (Y_next) and constraint values (C_next) of the batch of candidate points </span>
<span class="sd">    evaluated on the optimization step.</span>

<span class="sd">    As in the original TuRBO paper, a success is counted whenver any one of the </span>
<span class="sd">    new candidate points improves upon the incumbent best point. The key difference </span>
<span class="sd">    for SCBO is that we only compare points by their objective values when both points</span>
<span class="sd">    are valid (meet all constraints). If exactly one of the two points being compared </span>
<span class="sd">    violates a constraint, the other valid point is automatically considered to be better. </span>
<span class="sd">    If both points violate some constraints, we compare them inated by their constraint values.</span>
<span class="sd">    The better point in this case is the one with minimum total constraint violation</span>
<span class="sd">    (the minimum sum of constraint values)"""</span>

    <span class="c1"># Determine which candidates meet the constraints (are valid)</span>
    <span class="n">bool_tensor</span> <span class="o">=</span> <span class="n">C_next</span> <span class="o">&lt;=</span> <span class="mi">0</span>
    <span class="n">bool_tensor</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">bool_tensor</span><span class="p">,</span> <span class="n">dim</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">Valid_Y_next</span> <span class="o">=</span> <span class="n">Y_next</span><span class="p">[</span><span class="n">bool_tensor</span><span class="p">]</span>
    <span class="n">Valid_C_next</span> <span class="o">=</span> <span class="n">C_next</span><span class="p">[</span><span class="n">bool_tensor</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">Valid_Y_next</span><span class="o">.</span><span class="n">numel</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># if none of the candidates are valid</span>
        <span class="c1"># pick the point with minimum violation</span>
        <span class="n">sum_violation</span> <span class="o">=</span> <span class="n">C_next</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">dim</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">min_violation</span> <span class="o">=</span> <span class="n">sum_violation</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="c1"># if the minimum voilation candidate is smaller than the violation of the incumbent</span>
        <span class="k">if</span> <span class="n">min_violation</span> <span class="o">&lt;</span> <span class="n">state</span><span class="o">.</span><span class="n">best_constraint_values</span><span class="o">.</span><span class="n">sum</span><span class="p">():</span>
            <span class="c1"># count a success and update the current best point and constraint values</span>
            <span class="n">state</span><span class="o">.</span><span class="n">success_counter</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">state</span><span class="o">.</span><span class="n">failure_counter</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="c1"># new best is min violator</span>
            <span class="n">state</span><span class="o">.</span><span class="n">best_value</span> <span class="o">=</span> <span class="n">Y_next</span><span class="p">[</span><span class="n">sum_violation</span><span class="o">.</span><span class="n">argmin</span><span class="p">()]</span><span class="o">.</span><span class="n">item</span><span class="p">()</span>
            <span class="n">state</span><span class="o">.</span><span class="n">best_constraint_values</span> <span class="o">=</span> <span class="n">C_next</span><span class="p">[</span><span class="n">sum_violation</span><span class="o">.</span><span class="n">argmin</span><span class="p">()]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># otherwise, count a failure</span>
            <span class="n">state</span><span class="o">.</span><span class="n">success_counter</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">state</span><span class="o">.</span><span class="n">failure_counter</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># if at least one valid candidate was suggested,</span>
        <span class="c1"># throw out all invalid candidates</span>
        <span class="c1"># (a valid candidate is always better than an invalid one)</span>

        <span class="c1"># Case 1: if the best valid candidate found has a higher objective value that </span>
        <span class="c1"># incumbent best count a success, the obj valuse has been improved</span>
        <span class="n">improved_obj</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">Valid_Y_next</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">state</span><span class="o">.</span><span class="n">best_value</span> <span class="o">+</span> <span class="mf">1e-3</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span>
            <span class="n">state</span><span class="o">.</span><span class="n">best_value</span>
        <span class="p">)</span>
        <span class="c1"># Case 2: if incumbent best violates constraints</span>
        <span class="c1"># count a success, we now have suggested a point which is valid and thus better</span>
        <span class="n">obtained_validity</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">best_constraint_values</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">improved_obj</span> <span class="ow">or</span> <span class="n">obtained_validity</span><span class="p">:</span>  <span class="c1"># If Case 1 or Case 2</span>
            <span class="c1"># count a success and update the best value and constraint values</span>
            <span class="n">state</span><span class="o">.</span><span class="n">success_counter</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">state</span><span class="o">.</span><span class="n">failure_counter</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">state</span><span class="o">.</span><span class="n">best_value</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">Valid_Y_next</span><span class="p">)</span><span class="o">.</span><span class="n">item</span><span class="p">()</span>
            <span class="n">state</span><span class="o">.</span><span class="n">best_constraint_values</span> <span class="o">=</span> <span class="n">Valid_C_next</span><span class="p">[</span><span class="n">Valid_Y_next</span><span class="o">.</span><span class="n">argmax</span><span class="p">()]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># otherwise, count a failure</span>
            <span class="n">state</span><span class="o">.</span><span class="n">success_counter</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">state</span><span class="o">.</span><span class="n">failure_counter</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="c1"># Finally, update the length of the trust region according to the</span>
    <span class="c1"># updated success and failure counters</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">update_tr_length</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">state</span>


<span class="c1"># Define example state</span>
<span class="n">state</span> <span class="o">=</span> <span class="n">ScboState</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="n">dim</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="n">batch_size</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>ScboState(dim=20, batch_size=4, length=0.8, length_min=0.0078125, length_max=1.6, failure_counter=0, failure_tolerance=5, success_counter=0, success_tolerance=10, best_value=-inf, best_constraint_values=tensor([inf, inf]), restart_triggered=False)
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Generate-Initial-Points">Generate Initial Points<a class="anchor-link" href="#Generate-Initial-Points">¶</a></h3><p>Here we define a simple method to generate a set of random initial datapoints that we will use to kick-off optimization.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_initial_points</span><span class="p">(</span><span class="n">dim</span><span class="p">,</span> <span class="n">n_pts</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="n">sobol</span> <span class="o">=</span> <span class="n">SobolEngine</span><span class="p">(</span><span class="n">dimension</span><span class="o">=</span><span class="n">dim</span><span class="p">,</span> <span class="n">scramble</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
    <span class="n">X_init</span> <span class="o">=</span> <span class="n">sobol</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">n_pts</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">device</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">X_init</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Generating-a-batch-of-candidates-for-SCBO">Generating a batch of candidates for SCBO<a class="anchor-link" href="#Generating-a-batch-of-candidates-for-SCBO">¶</a></h3><p>Just as in the TuRBO Tutorial (<a href="https://botorch.org/tutorials/turbo_1">https://botorch.org/tutorials/turbo_1</a>), we'll define a method generate_batch to generate a new batch of candidate points within the TuRBO trust region using Thompson sampling.</p>
<p>The key difference here from TuRBO is that, instead of using MaxPosteriorSampling to simply grab the candidates within the trust region with the maximum posterior values, we use ConstrainedMaxPosteriorSampling to instead grab the candidates within the trust region with the maximum posterior values subject to the constraint that the posteriors for the constraint models for c1(x) and c2(x) must be less than or equal to 0 for both candidates.</p>
<p>We use additional GPs ('constraint models') to model each black-box constraint (c1 and c2), and throw out all candidates for which the sampled value for these constraint models is greater than 0. According to [1], in the special case when all of the candidaates are predicted to be constraint violators, we select the candidate with the minimum predicted violation. (See botorch.generation.sampling.ConstrainedMaxPosteriorSampling for implementation details).</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">generate_batch</span><span class="p">(</span>
    <span class="n">state</span><span class="p">,</span>
    <span class="n">model</span><span class="p">,</span>  <span class="c1"># GP model</span>
    <span class="n">X</span><span class="p">,</span>  <span class="c1"># Evaluated points on the domain [0, 1]^d</span>
    <span class="n">Y</span><span class="p">,</span>  <span class="c1"># Function values</span>
    <span class="n">batch_size</span><span class="p">,</span>
    <span class="n">n_candidates</span><span class="p">,</span>  <span class="c1"># Number of candidates for Thompson sampling</span>
    <span class="n">constraint_model</span><span class="p">,</span>
    <span class="n">sobol</span><span class="p">:</span> <span class="n">SobolEngine</span><span class="p">,</span>
<span class="p">):</span>
    <span class="k">assert</span> <span class="n">X</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mf">0.0</span> <span class="ow">and</span> <span class="n">X</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mf">1.0</span> <span class="ow">and</span> <span class="n">torch</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">Y</span><span class="p">))</span>

    <span class="c1"># Create the TR bounds</span>
    <span class="n">x_center</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Y</span><span class="o">.</span><span class="n">argmax</span><span class="p">(),</span> <span class="p">:]</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
    <span class="n">tr_lb</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">clamp</span><span class="p">(</span><span class="n">x_center</span> <span class="o">-</span> <span class="n">state</span><span class="o">.</span><span class="n">length</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="n">tr_ub</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">clamp</span><span class="p">(</span><span class="n">x_center</span> <span class="o">+</span> <span class="n">state</span><span class="o">.</span><span class="n">length</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>

    <span class="c1"># Thompson Sampling w/ Constraints (SCBO)</span>
    <span class="n">dim</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">pert</span> <span class="o">=</span> <span class="n">sobol</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">n_candidates</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">device</span><span class="p">)</span>
    <span class="n">pert</span> <span class="o">=</span> <span class="n">tr_lb</span> <span class="o">+</span> <span class="p">(</span><span class="n">tr_ub</span> <span class="o">-</span> <span class="n">tr_lb</span><span class="p">)</span> <span class="o">*</span> <span class="n">pert</span>

    <span class="c1"># Create a perturbation mask</span>
    <span class="n">prob_perturb</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mf">20.0</span> <span class="o">/</span> <span class="n">dim</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">n_candidates</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">device</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">prob_perturb</span>
    <span class="n">ind</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">mask</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">mask</span><span class="p">[</span><span class="n">ind</span><span class="p">,</span> <span class="n">torch</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">dim</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ind</span><span class="p">),),</span> <span class="n">device</span><span class="o">=</span><span class="n">device</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="c1"># Create candidate points from the perturbations and the mask</span>
    <span class="n">X_cand</span> <span class="o">=</span> <span class="n">x_center</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">n_candidates</span><span class="p">,</span> <span class="n">dim</span><span class="p">)</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
    <span class="n">X_cand</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span> <span class="o">=</span> <span class="n">pert</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>

    <span class="c1"># Sample on the candidate points using Constrained Max Posterior Sampling</span>
    <span class="n">constrained_thompson_sampling</span> <span class="o">=</span> <span class="n">ConstrainedMaxPosteriorSampling</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">constraint_model</span><span class="o">=</span><span class="n">constraint_model</span><span class="p">,</span> <span class="n">replacement</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>
    <span class="k">with</span> <span class="n">torch</span><span class="o">.</span><span class="n">no_grad</span><span class="p">():</span>
        <span class="n">X_next</span> <span class="o">=</span> <span class="n">constrained_thompson_sampling</span><span class="p">(</span><span class="n">X_cand</span><span class="p">,</span> <span class="n">num_samples</span><span class="o">=</span><span class="n">batch_size</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">X_next</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Main-Optimization-Loop">Main Optimization Loop<a class="anchor-link" href="#Main-Optimization-Loop">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Get initial data</span>
<span class="c1"># Must get initial values for both objective and constraints</span>
<span class="n">train_X</span> <span class="o">=</span> <span class="n">get_initial_points</span><span class="p">(</span><span class="n">dim</span><span class="p">,</span> <span class="n">n_init</span><span class="p">)</span>
<span class="n">train_Y</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span>
    <span class="p">[</span><span class="n">eval_objective</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">train_X</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">device</span>
<span class="p">)</span><span class="o">.</span><span class="n">unsqueeze</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">C1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="n">eval_c1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">train_X</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">device</span><span class="p">)</span><span class="o">.</span><span class="n">unsqueeze</span><span class="p">(</span>
    <span class="o">-</span><span class="mi">1</span>
<span class="p">)</span>
<span class="n">C2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="n">eval_c2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">train_X</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">device</span><span class="p">)</span><span class="o">.</span><span class="n">unsqueeze</span><span class="p">(</span>
    <span class="o">-</span><span class="mi">1</span>
<span class="p">)</span>

<span class="n">C1</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">C1</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">C2</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">C2</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">train_Y</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">train_Y</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[7]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>(tensor(-9.6854, dtype=torch.float64),
 tensor(4.8509, dtype=torch.float64),
 tensor(-9.8032, dtype=torch.float64),
 tensor(4.7317, dtype=torch.float64),
 tensor(-15.9292, dtype=torch.float64),
 tensor(-12.4023, dtype=torch.float64))</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Initialize TuRBO state</span>
<span class="kn">from</span> <span class="nn">botorch.models.transforms.outcome</span> <span class="kn">import</span> <span class="n">Standardize</span>

<span class="n">state</span> <span class="o">=</span> <span class="n">ScboState</span><span class="p">(</span><span class="n">dim</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="n">batch_size</span><span class="p">)</span>
<span class="c1"># Note: We use 2000 candidates here to make the tutorial run faster. </span>
<span class="c1"># SCBO actually uses min(5000, max(2000, 200 * dim)) candidate points by default.</span>
<span class="n">N_CANDIDATES</span> <span class="o">=</span> <span class="mi">2000</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">SMOKE_TEST</span> <span class="k">else</span> <span class="mi">4</span>
<span class="n">sobol</span> <span class="o">=</span> <span class="n">SobolEngine</span><span class="p">(</span><span class="n">dim</span><span class="p">,</span> <span class="n">scramble</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">get_fitted_model</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">):</span>
    <span class="n">likelihood</span> <span class="o">=</span> <span class="n">GaussianLikelihood</span><span class="p">(</span><span class="n">noise_constraint</span><span class="o">=</span><span class="n">Interval</span><span class="p">(</span><span class="mf">1e-8</span><span class="p">,</span> <span class="mf">1e-3</span><span class="p">))</span>
    <span class="n">covar_module</span> <span class="o">=</span> <span class="n">ScaleKernel</span><span class="p">(</span>  <span class="c1"># Use the same lengthscale prior as in the TuRBO paper</span>
        <span class="n">MaternKernel</span><span class="p">(</span>
            <span class="n">nu</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span> <span class="n">ard_num_dims</span><span class="o">=</span><span class="n">dim</span><span class="p">,</span> <span class="n">lengthscale_constraint</span><span class="o">=</span><span class="n">Interval</span><span class="p">(</span><span class="mf">0.005</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">SingleTaskGP</span><span class="p">(</span>
        <span class="n">X</span><span class="p">,</span>
        <span class="n">Y</span><span class="p">,</span>
        <span class="n">covar_module</span><span class="o">=</span><span class="n">covar_module</span><span class="p">,</span>
        <span class="n">likelihood</span><span class="o">=</span><span class="n">likelihood</span><span class="p">,</span>
        <span class="n">outcome_transform</span><span class="o">=</span><span class="n">Standardize</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">mll</span> <span class="o">=</span> <span class="n">ExactMarginalLogLikelihood</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">likelihood</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">gpytorch</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">max_cholesky_size</span><span class="p">(</span><span class="n">max_cholesky_size</span><span class="p">):</span>
        <span class="n">fit_gpytorch_mll</span><span class="p">(</span><span class="n">mll</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">model</span>


<span class="k">while</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">restart_triggered</span><span class="p">:</span>  <span class="c1"># Run until TuRBO converges</span>
    <span class="c1"># Fit GP models for objective and constraints</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">get_fitted_model</span><span class="p">(</span><span class="n">train_X</span><span class="p">,</span> <span class="n">train_Y</span><span class="p">)</span>
    <span class="n">c1_model</span> <span class="o">=</span> <span class="n">get_fitted_model</span><span class="p">(</span><span class="n">train_X</span><span class="p">,</span> <span class="n">C1</span><span class="p">)</span>
    <span class="n">c2_model</span> <span class="o">=</span> <span class="n">get_fitted_model</span><span class="p">(</span><span class="n">train_X</span><span class="p">,</span> <span class="n">C2</span><span class="p">)</span>

    <span class="c1"># Generate a batch of candidates</span>
    <span class="k">with</span> <span class="n">gpytorch</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">max_cholesky_size</span><span class="p">(</span><span class="n">max_cholesky_size</span><span class="p">):</span>
        <span class="n">X_next</span> <span class="o">=</span> <span class="n">generate_batch</span><span class="p">(</span>
            <span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">,</span>
            <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
            <span class="n">X</span><span class="o">=</span><span class="n">train_X</span><span class="p">,</span>
            <span class="n">Y</span><span class="o">=</span><span class="n">train_Y</span><span class="p">,</span>
            <span class="n">batch_size</span><span class="o">=</span><span class="n">batch_size</span><span class="p">,</span>
            <span class="n">n_candidates</span><span class="o">=</span><span class="n">N_CANDIDATES</span><span class="p">,</span>
            <span class="n">constraint_model</span><span class="o">=</span><span class="n">ModelListGP</span><span class="p">(</span><span class="n">c1_model</span><span class="p">,</span> <span class="n">c2_model</span><span class="p">),</span>
            <span class="n">sobol</span><span class="o">=</span><span class="n">sobol</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># Evaluate both the objective and constraints for the selected candidaates</span>
    <span class="n">Y_next</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span>
        <span class="p">[</span><span class="n">eval_objective</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">X_next</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">device</span>
    <span class="p">)</span><span class="o">.</span><span class="n">unsqueeze</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">C1_next</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span>
        <span class="p">[</span><span class="n">eval_c1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">X_next</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">device</span>
    <span class="p">)</span><span class="o">.</span><span class="n">unsqueeze</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">C2_next</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span>
        <span class="p">[</span><span class="n">eval_c2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">X_next</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">device</span>
    <span class="p">)</span><span class="o">.</span><span class="n">unsqueeze</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">C_next</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">C1_next</span><span class="p">,</span> <span class="n">C2_next</span><span class="p">],</span> <span class="n">dim</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Update TuRBO state</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">update_state</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">Y_next</span><span class="p">,</span> <span class="n">C_next</span><span class="p">)</span>

    <span class="c1"># Append data. Note that we append all data, even points that violate</span>
    <span class="c1"># the constraints. This is so our constraint models can learn more </span>
    <span class="c1"># about the constraint functions and gain confidence in where violations occur.</span>
    <span class="n">train_X</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">((</span><span class="n">train_X</span><span class="p">,</span> <span class="n">X_next</span><span class="p">),</span> <span class="n">dim</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">train_Y</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">((</span><span class="n">train_Y</span><span class="p">,</span> <span class="n">Y_next</span><span class="p">),</span> <span class="n">dim</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">C1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">((</span><span class="n">C1</span><span class="p">,</span> <span class="n">C1_next</span><span class="p">),</span> <span class="n">dim</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">C2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">((</span><span class="n">C2</span><span class="p">,</span> <span class="n">C2_next</span><span class="p">),</span> <span class="n">dim</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># Print current status. Note that state.best_value is always the best </span>
    <span class="c1"># objective value found so far which meets the constraints, or in the case</span>
    <span class="c1"># that no points have been found yet which meet the constraints, it is the </span>
    <span class="c1"># objective value of the point with the minimum constraint violation.</span>
    <span class="nb">print</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">train_X</span><span class="p">)</span><span class="si">}</span><span class="s2">) Best value: </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">best_value</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2">, TR length: </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">length</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2">"</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>44) Best value: -1.01e+01, TR length: 8.00e-01
48) Best value: -1.01e+01, TR length: 8.00e-01
52) Best value: -1.01e+01, TR length: 8.00e-01
56) Best value: -1.01e+01, TR length: 8.00e-01
60) Best value: -1.01e+01, TR length: 8.00e-01
64) Best value: -1.01e+01, TR length: 4.00e-01
68) Best value: -9.34e+00, TR length: 4.00e-01
72) Best value: -9.12e+00, TR length: 4.00e-01
76) Best value: -9.12e+00, TR length: 4.00e-01
80) Best value: -8.12e+00, TR length: 4.00e-01
84) Best value: -8.12e+00, TR length: 4.00e-01
88) Best value: -8.12e+00, TR length: 4.00e-01
92) Best value: -8.09e+00, TR length: 4.00e-01
96) Best value: -7.20e+00, TR length: 4.00e-01
100) Best value: -6.14e+00, TR length: 4.00e-01
104) Best value: -6.14e+00, TR length: 4.00e-01
108) Best value: -6.14e+00, TR length: 4.00e-01
112) Best value: -6.14e+00, TR length: 4.00e-01
116) Best value: -5.94e+00, TR length: 4.00e-01
120) Best value: -5.94e+00, TR length: 4.00e-01
124) Best value: -5.94e+00, TR length: 4.00e-01
128) Best value: -5.94e+00, TR length: 4.00e-01
132) Best value: -5.58e+00, TR length: 4.00e-01
136) Best value: -5.58e+00, TR length: 4.00e-01
140) Best value: -5.58e+00, TR length: 4.00e-01
144) Best value: -5.58e+00, TR length: 4.00e-01
148) Best value: -5.58e+00, TR length: 4.00e-01
152) Best value: -5.58e+00, TR length: 2.00e-01
156) Best value: -5.34e+00, TR length: 2.00e-01
160) Best value: -5.04e+00, TR length: 2.00e-01
164) Best value: -4.50e+00, TR length: 2.00e-01
168) Best value: -4.50e+00, TR length: 2.00e-01
172) Best value: -4.34e+00, TR length: 2.00e-01
176) Best value: -4.34e+00, TR length: 2.00e-01
180) Best value: -4.34e+00, TR length: 2.00e-01
184) Best value: -3.56e+00, TR length: 2.00e-01
188) Best value: -3.56e+00, TR length: 2.00e-01
192) Best value: -3.56e+00, TR length: 2.00e-01
196) Best value: -3.56e+00, TR length: 2.00e-01
200) Best value: -3.56e+00, TR length: 2.00e-01
204) Best value: -3.52e+00, TR length: 2.00e-01
208) Best value: -3.52e+00, TR length: 2.00e-01
212) Best value: -3.52e+00, TR length: 2.00e-01
216) Best value: -3.52e+00, TR length: 2.00e-01
220) Best value: -3.52e+00, TR length: 2.00e-01
224) Best value: -3.52e+00, TR length: 1.00e-01
228) Best value: -3.25e+00, TR length: 1.00e-01
232) Best value: -3.23e+00, TR length: 1.00e-01
236) Best value: -2.94e+00, TR length: 1.00e-01
240) Best value: -2.77e+00, TR length: 1.00e-01
244) Best value: -2.77e+00, TR length: 1.00e-01
248) Best value: -2.77e+00, TR length: 1.00e-01
252) Best value: -2.77e+00, TR length: 1.00e-01
256) Best value: -2.77e+00, TR length: 1.00e-01
260) Best value: -2.50e+00, TR length: 1.00e-01
264) Best value: -2.50e+00, TR length: 1.00e-01
268) Best value: -2.50e+00, TR length: 1.00e-01
272) Best value: -2.50e+00, TR length: 1.00e-01
276) Best value: -2.50e+00, TR length: 1.00e-01
280) Best value: -2.50e+00, TR length: 5.00e-02
284) Best value: -2.50e+00, TR length: 5.00e-02
288) Best value: -2.27e+00, TR length: 5.00e-02
292) Best value: -2.14e+00, TR length: 5.00e-02
296) Best value: -1.87e+00, TR length: 5.00e-02
300) Best value: -1.87e+00, TR length: 5.00e-02
304) Best value: -1.83e+00, TR length: 5.00e-02
308) Best value: -1.83e+00, TR length: 5.00e-02
312) Best value: -1.83e+00, TR length: 5.00e-02
316) Best value: -1.83e+00, TR length: 5.00e-02
320) Best value: -1.83e+00, TR length: 5.00e-02
324) Best value: -1.83e+00, TR length: 2.50e-02
328) Best value: -1.45e+00, TR length: 2.50e-02
332) Best value: -1.45e+00, TR length: 2.50e-02
336) Best value: -1.42e+00, TR length: 2.50e-02
340) Best value: -1.42e+00, TR length: 2.50e-02
344) Best value: -1.42e+00, TR length: 2.50e-02
348) Best value: -1.42e+00, TR length: 2.50e-02
352) Best value: -1.42e+00, TR length: 2.50e-02
356) Best value: -1.35e+00, TR length: 2.50e-02
360) Best value: -1.35e+00, TR length: 2.50e-02
364) Best value: -1.35e+00, TR length: 2.50e-02
368) Best value: -1.35e+00, TR length: 2.50e-02
372) Best value: -1.35e+00, TR length: 2.50e-02
376) Best value: -1.35e+00, TR length: 1.25e-02
380) Best value: -1.17e+00, TR length: 1.25e-02
384) Best value: -9.84e-01, TR length: 1.25e-02
388) Best value: -9.39e-01, TR length: 1.25e-02
392) Best value: -9.39e-01, TR length: 1.25e-02
396) Best value: -9.13e-01, TR length: 1.25e-02
400) Best value: -9.13e-01, TR length: 1.25e-02
404) Best value: -9.13e-01, TR length: 1.25e-02
408) Best value: -8.20e-01, TR length: 1.25e-02
412) Best value: -8.20e-01, TR length: 1.25e-02
416) Best value: -8.20e-01, TR length: 1.25e-02
420) Best value: -7.75e-01, TR length: 1.25e-02
424) Best value: -7.75e-01, TR length: 1.25e-02
428) Best value: -7.75e-01, TR length: 1.25e-02
432) Best value: -7.75e-01, TR length: 1.25e-02
436) Best value: -7.75e-01, TR length: 1.25e-02
440) Best value: -7.75e-01, TR length: 6.25e-03
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Valid samples must have BOTH c1 &lt;= 0 and c2 &lt;= 0</span>
<span class="n">constraint_vals</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">C1</span><span class="p">,</span> <span class="n">C2</span><span class="p">],</span> <span class="n">dim</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">bool_tensor</span> <span class="o">=</span> <span class="n">constraint_vals</span> <span class="o">&lt;=</span> <span class="mi">0</span>
<span class="n">bool_tensor</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">bool_tensor</span><span class="p">,</span> <span class="n">dim</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">unsqueeze</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Valid_Y</span> <span class="o">=</span> <span class="n">train_Y</span><span class="p">[</span><span class="n">bool_tensor</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"With constraints, the best value we found is: </span><span class="si">{</span><span class="n">Valid_Y</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">()</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>With constraints, the best value we found is: -0.7746
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Plot-Results">Plot Results<a class="anchor-link" href="#Plot-Results">¶</a></h3><p>With these two simple constraints, SCBO performs similarly to TuRBO (see TuRBO-1 tutorial notebok)</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">rc</span>

<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">fx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">maximum</span><span class="o">.</span><span class="n">accumulate</span><span class="p">(</span><span class="n">train_Y</span><span class="o">.</span><span class="n">cpu</span><span class="p">())</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fx</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">train_Y</span><span class="p">)],</span> <span class="p">[</span><span class="n">fun</span><span class="o">.</span><span class="n">optimal_value</span><span class="p">,</span> <span class="n">fun</span><span class="o">.</span><span class="n">optimal_value</span><span class="p">],</span> <span class="s2">"k--"</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">"Function value"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">"Number of evaluations"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">"20D Ackley"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">train_Y</span><span class="p">)])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="o">-</span><span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_png output_subarea">
<img alt="No description has been provided for this image" src="data:image/png;base64,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
"/>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span> 
</pre></div>
</div>
</div>
</div>
</div>
</div></div><div class="tutorialButtonWrapper buttonWrapper"><a class="tutorialButton button" download="" href="/v/0.9.1/files/scalable_constrained_bo.ipynb" target="_blank"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="file-download" class="svg-inline--fa fa-file-download fa-w-12" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"></path></svg>Download Tutorial Jupyter Notebook</a></div><div class="tutorialButtonWrapper buttonWrapper"><a class="tutorialButton button" download="" href="/v/0.9.1/files/scalable_constrained_bo.py" target="_blank"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="file-download" class="svg-inline--fa fa-file-download fa-w-12" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"></path></svg>Download Tutorial Source Code</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/v/0.9.1/" class="nav-home"><img src="/v/0.9.1/img/botorch.png" alt="BoTorch" width="66" height="58"/></a><div class="footerSection"><h5>Docs</h5><a href="/v/0.9.1/docs/introduction">Introduction</a><a href="/v/0.9.1/docs/getting_started">Getting Started</a><a href="/v/0.9.1/tutorials/">Tutorials</a><a href="/v/0.9.1/api/">API Reference</a><a href="https://arxiv.org/abs/1910.06403">Paper</a></div><div class="footerSection"><h5>Legal</h5><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noreferrer noopener">Privacy</a><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noreferrer noopener">Terms</a></div><div class="footerSection"><h5>Social</h5><div class="social"><a class="github-button" href="https://github.com/pytorch/botorch" data-count-href="https://github.com/pytorch/botorch/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star BoTorch on GitHub">botorch</a></div></div></section><a href="https://opensource.facebook.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/v/0.9.1/img/oss_logo.png" alt="Meta Open Source" width="300" height="25"/></a><section class="copyright"> Copyright © 2023 Meta Platforms, Inc</section><script>
            (function() {
              var BAD_BASE = '/botorch/';
              if (window.location.origin !== 'https://botorch.org') {
                var pathname = window.location.pathname;
                var newPathname = pathname.slice(pathname.indexOf(BAD_BASE) === 0 ? BAD_BASE.length : 1);
                var newLocation = 'https://botorch.org/v/0.9.1/' + newPathname;
                
              }
            })();
          </script></footer></div></body></html>